!function(t,e){window.jQuery.fn.flexicard=new e("flexicard",{init:function(){var e=this;t(".layout_3d-carousel").length?t(document).on("tt2/3d-slider-rendered",(function(){return e.flexicard("initiate")})):this.flexicard("initiate")},initiate:function(){var e=t(this).find(".flexicard").not(".js-inited"),a=!1;return e.length&&e.each((function(){var e=t(this),o=t(window).width();if(e.find(".type_link").length&&e.addClass("type_link"),e.find(".flexicard-image-with-tooltip").length&&(e.closest(".primary-content").length&&e.closest(".primary-content").addClass("has-image-with-tooltip"),e.closest(".primary-area").length&&e.closest(".primary-area").addClass("has-image-with-tooltip"),e.closest(".row").length&&e.closest(".row").addClass("has-image-with-tooltip")),e.find(".flexicard--video").length&&e.flexicard("flexicardVideoOption"),e.parent().hasClass("stretch")&&o>1024){var i=e.parent(),r=i.closest(".row"),n=i[0].className,d=parseInt(n.match(/cols_count_\d/g)[0].replace("cols_count_",""));e.flexicard("stretchingMethod",d,i.width(),r.hasClass("width_window"))}(e.find("[data-border-top]").length||e.find("[data-border-bottom]").length)&&(t("body").hasClass("js-first-interaction")?e.flexicard("assignBorders"):t(document).on("tt2/controller/firstInteraction",(function(){return e.flexicard("assignBorders")}))),e.on("click",(function(e){var i=t(e.target);if(t(e.currentTarget).find(".flexicard-link-wrapper").length&&(window.location.href=t(e.currentTarget).find(".flexicard-link-wrapper").attr("href")),!(i.hasClass("button")||i.closest(".icons-list--item").hasClass("icons-list--item__link")||i.attr("target")||i.is(".flexicard--description > a")||i.is(".icons-list--item__text a")||i.closest(".row").hasClass("layout_carousel")&&!i.hasClass("type_link")&&i.closest(".row").hasClass("carousel-screen-offset-loading")||i.closest(".carousel-3d-slide").length&&!i.closest(".current").length||i.closest(".flip-flexicard-holder").length)){if("a"===e.target.tagName.toLowerCase()&&e.target.href||e.preventDefault(),o<1025&&i.closest(".flexicard").find(".flexicard-image-with-tooltip").length){var r=i.closest(".flexicard").find(".flexicard-image-with-tooltip");return r.toggleClass("display-tooltip"),void(o<767&&r.find(".tooltip-content-wrapper").css({width:parseInt(r.css("width"))-40+"px"}))}var n=t(this),d=n.find(".flexicard--label");d.hasClass("only-self-click")&&(d=t(d[0]).hasClass("only-self-click")?t(d[1]):t(d[0]));var l=d.length;if(l){if(l>1&&e.target.classList.contains("button")&&(d=t(e.target)),t(document).trigger("tt2/flexicard/click",[d]),d.attr("href")&&!d.attr("data-handle-click"))"_blank"===d.attr("target")?window.open(d.attr("href"),"_blank"):"_top"===d.attr("target")?window.open(d.attr("href"),"_top"):window.location.href=d.attr("href");else if(d.attr("data-href")){var c=d.attr("data-href");d.data("target")&&"_blank"===d.data("target")?window.open(c,"_blank"):window.location.href=c}else if(d.attr("data-handle-click")){var s=d.attr("data-handle-click"),p=d.data();p.formId?(n.attr({"data-form-id":p.formId,"data-popup-style":p.popupStyle,"data-popup-size":p.popupSize}),n.handleClick(s,e)):d.attr("href")&&"javascript:"!==d.attr("href")?(n.attr({href:d.attr("href"),"data-popup-style":p.popupStyle,"data-popup-size":p.popupSize}),n.handleClick(s,e)):p.accordion?(n.attr({"data-accordion":p.accordion}),n.handleClick(s,e)):d.attr("data-href")&&(n.attr({href:d.attr("data-href"),"data-popup-style":p.popupStyle,"data-popup-size":p.popupSize}),n.handleClick(s,e))}else d.attr("data-popup-id")?(n.attr({"data-popup-id":d.attr("data-popup-id")}),n.handleClick("triggerCustomEvent",e)):d.attr("data-href")&&"javascript:"!==d.attr("data-href")&&!d.hasClass("type_ttrezdy-modal-frame")&&(a||(a=!0,setTimeout((function(){a=!1}),1e3),t(d[0]).trigger("click")));!d.attr("href")&&d.data().href&&"javascript:"!==d.attr("data-href")&&d.attr("href",d.data().href)}}})),e.addClass("js-inited")})),t(this)},setAnchorWrapper:function(){var e=t(this),a=e.flexicard("getFlexicardActiveLink");if(a){var o=e.find(".flexicard--image"),i=t('<a href="'.concat(a,'" class="flexicard-anchor-wrapper"></a>'));i.append(o),e.append(i),i.on("click",(function(t){t.preventDefault()}))}},getFlexicardActiveLink:function(){var e,a=t(this),o=null,i=0;if((e=t(window).width()>1024&&a.find(".flexicard--layout__mouseover").length?a.find(".flexicard--layout__mouseover a.button"):a.find(".flexicard--layout__over-image a.button")).length)do{var r=t(e[i]),n=r.attr("href");if(n&&n.includes("http")&&(r.hasClass("type_permalink")||r.hasClass("type_page")||r.hasClass("type_url"))){o=n;break}++i}while(i<e.length);return o},flexicardVideoOption:function(){var e=t(window).width(),a=t(this).find(".flexicard--video"),o=a.data(),i=a.data("flc-video-transition-time"),r=t("<div></div>"),n=!1;r.addClass("flexicard-video-holder");var d=this.flexicard("getVideoAttributes",e,o);if(d.webm||d.mp4||d.ogv){var l="<video ".concat("auto"===o.flcVideoPlayOption&&e>1024?"autoplay":""," loop muted>");l+=d.webm?'<source src="'.concat(d.webm,'" type="video/webm">'):"",l+=d.mp4?'<source src="'.concat(d.mp4,'" type="video/mp4">'):"",l+=d.ogv?'<source src="'.concat(d.ogv,'" type="video/ogv">'):"",l+="</video>",a.append(r.append(t(l))),"on-hover"===o.flcVideoPlayOption&&e>1024?(a.on("mouseenter",(function(){n&&!r.find("video")[0].paused||(r.find("video")[0].play(),r.css({transition:"opacity "+i+"s",opacity:1})),n=!0})),a.on("mouseleave",(function(){r.find("video")[0].pause(),r.css({transition:"opacity "+i+"s",opacity:0})}))):(r.visibility=!1,t(document).on("tt2/scroll",(function(){r.visible()?(r.visibility||(r.find("video")[0].play(),r.css({opacity:1})),r.visibility=!0):(r.visibility&&(r.find("video")[0].pause(),r.css({opacity:0})),r.visibility=!1)})))}},stretchingMethod:function(e,a,o){var i=t(this),r=Math.floor(a/e),n=i.find(".flexicard--layout"),d=i.find(".flexicard--content"),l=o?50:40;n.children(":not(.flexicard--price)").css("width",r-l),d.css("width",r),i.on("mouseenter",(function(){i.css("width",1.15*r)})),i.on("mouseleave",(function(){i.css("width",.8*r)}))},assignBorders:function(){var e=t(this).find("[data-border-top], [data-border-bottom]"),a={top:"",bottom:""},o="";e.attr("data-border-top")&&(a.top=e.attr("data-border-top")),e.attr("data-border-bottom")&&(a.bottom=e.attr("data-border-bottom"));var i=t(document),r=i.find('style[data-border-top="'.concat(a.top,'"]')),n=i.find('style[data-border-bottom="'.concat(a.bottom,'"]'));a.top&&!r.length&&a.bottom&&!n.length?o='\n            <style data-border-top="'.concat(a.top,'" data-border-bottom="').concat(a.bottom,'">\n                .flexicard .flexicard--image[data-border-top="').concat(a.top,'"][data-border-bottom="').concat(a.bottom,'"]:before {\n                    background-image: url(').concat(a.top,"), url(").concat(a.bottom,");\n                    background-position: center -1px, center calc(100% + 1px);\n                }\n            </style>\n        "):a.top&&!r.length?o='\n            <style data-border-top="'.concat(a.top,'">\n                .flexicard .flexicard--image[data-border-top="').concat(a.top,'"]:before {\n                    background-image: url(').concat(a.top,");\n                    background-position: center -1px;\n                }\n            </style>\n        "):a.bottom&&!n.length&&(o='\n            <style data-border-bottom="'.concat(a.bottom,'">\n                .flexicard .flexicard--image[data-border-bottom="').concat(a.bottom,'"]:before {\n                    background-image: url(').concat(a.bottom,");\n                    background-position: center calc(100% + 1px);\n                }\n            </style>\n        ")),document.querySelector("head").insertAdjacentHTML("beforeend",o)},getVideoAttributes:function(t,e){var a={};return t>1024?(a.webm=e.flcVideoDesktopWebm,a.mp4=e.flcVideoDesktopMp4,a.ogv=e.flcVideoDesktopOgv,a.media="desktop"):t<=1024&&t>=768?(a.webm=e.flcVideoTabletWebm,a.mp4=e.flcVideoTabletMp4,a.ogv=e.flcVideoMobileOgv,a.media="tablet"):t<768&&(a.webm=e.flcVideoMobileWebm,a.mp4=e.flcVideoMobileMp4,a.ogv=e.flcVideoMobileOgv,a.media="mobile"),a}})}(jQuery,$fn);